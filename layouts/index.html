{{ define "main" }}

{{ .Content }}

<div class="content-subhead">Recent Posts</div>
<div class="posts">
  {{ range first 10 .Site.RegularPages }}
  <section class="post">
    <header class="post-header">
      <h1 class="post-title">
        <a href="{{ .Permalink }}">
          {{ .Title }}
        </a>
      </h1>
      <div class="post-meta pure-g">
        <div class="pure-u-1 pure-u-md-1-3">
          {{ $date := .Date.Format "Monday, Jan 2, '06" }}
          {{ $lastmod := .Lastmod.Format "Monday, Jan 2, '06" }}
          <i class="fa-solid fa-clock"></i> <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ $date }}</time>
          {{ if and (ne $lastmod $date) (gt .Lastmod .Date) }}
          <br/><i class="fa-solid fa-clock-rotate-left"></i> <time datetime="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}">{{ $lastmod }}</time>
          {{ end }}
        </div>
        <div class="pure-u-1 pure-u-md-1-3">
          <i class="fa-solid fa-stopwatch"></i>
          {{ .ReadingTime }} min. ({{ .WordCount }} words)
        </div>
        {{ with .GetTerms "categories" }}
        <div class="pure-u-1 pure-u-md-1-3">
          {{ range . }}
          <a class="capitalize" href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
          {{ end }}
        </div>
        {{ end }}
    </header>

    <div class="post-description">
      {{ .Summary }} <a href="{{ .Permalink }}">Read more.</a>
    </div>
    
    {{ with .GetTerms "tags" }}
    <p style="text-align: right;">
      {{ range . }}
      <a href="{{ .RelPermalink }}">
        #{{ .LinkTitle }}
      </a>
      {{ end }}
    </p>
    {{ end }}
  </section>
  {{ end }}
</div>


<div style="text-align: center;">
  <a class="pure-button" href="/posts">All Posts</a>
</div>

{{ end }}